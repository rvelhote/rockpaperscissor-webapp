# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
#    parameter_name: value

services:
  app.game_engine:
    class: AppBundle\Service\GameEngine

  app.repository:
    class: Doctrine\ORM\EntityRepository
    factory: [ '@doctrine.orm.entity_manager', getRepository ]
    arguments: [ AppBundle:Game ]
    shared: false

  app.repository.user:
    parent: app.repository
    arguments: [ 'AppBundle:Game' ]

  validator.game_guid_exists:
    class: AppBundle\Validator\Constraints\GameGuidExistsValidator
    arguments: [ '@app.repository' ]
    tags:
      - { name: validator.constraint_validator }